<ion-card class="sme-form-card ion-no-margin">
  <ion-card-content>
    <form [formGroup]="processForm" (ngSubmit)="submit()">
      <ion-grid>
        <ion-row>
          <ion-col size="12">
            <ion-item fill="outline" class="ion-margin-bottom">
              <ion-input
                type="text"
                formControlName="machineId"
                label="Machine id *"
                label-placement="floating"
                [readonly]="mode === 'read'">
              </ion-input>
            </ion-item>
            <ion-text color="danger" *ngIf="processForm.get('machineId')?.invalid && (processForm.get('machineId')?.touched || processForm.get('machineId')?.dirty) && mode !== 'read'">
              <small>Machine ID is required.</small>
            </ion-text>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col size="12">
            <ion-item fill="outline" class="ion-margin-bottom">
              <ion-input
                type="text"
                formControlName="machineName"
                label="Machine name *"
                label-placement="floating"
                [readonly]="mode === 'read'">
              </ion-input>
            </ion-item>
            <ion-text color="danger" *ngIf="processForm.get('machineName')?.invalid && (processForm.get('machineName')?.touched || processForm.get('machineName')?.dirty) && mode !== 'read'">
              <small>Machine Name is required.</small>
            </ion-text>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col size="12">
            <ion-item fill="outline" class="ion-margin-bottom">
              <ion-input
                type="text"
                formControlName="workType"
                label="Work type *"
                label-placement="floating"
                [readonly]="mode === 'read'">
              </ion-input>
            </ion-item>
            <ion-text color="danger" *ngIf="processForm.get('workType')?.invalid && (processForm.get('workType')?.touched || processForm.get('workType')?.dirty) && mode !== 'read'">
              <small>Work Type is required.</small>
            </ion-text>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col size="12">
            <ion-item fill="outline" class="ion-margin-bottom">
              <ion-input
                type="text"
                formControlName="shortName"
                label="Short name"
                label-placement="floating"
                [readonly]="mode === 'read'">
              </ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row>
          <ion-col size="12">
            <ion-item fill="outline" class="ion-margin-bottom">
              <ion-input
                type="text"
                formControlName="process"
                label="Process"
                label-placement="floating"
                [readonly]="mode === 'read'">
              </ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <ion-row *ngIf="mode !== 'read'">
          <ion-col size="12" class="ion-text-center">
            <ion-button type="submit" color="primary" [disabled]="processForm.invalid || isSubmitting">
              {{ mode === 'create' ? 'Add' : 'Update' }}
            </ion-button>
          </ion-col>
        </ion-row>

      </ion-grid>
    </form>
  </ion-card-content>
</ion-card>
<app-footer></app-footer>